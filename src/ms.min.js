function repmat(a,b){var c,d=[];for(c=0;b>c;c++)d=d.concat(a);return d}function range(a){var b,c=[];for(b=0;a>b;b++)c[b]=b+1;return c}function meshgrid(a){var b,c=[],d=[];for(b=0;a>b;b++)c[b]=range(a),d[b]=repmat(b+1,a);return{x:c,y:d}}function renderBoard(a,b){var c,d,e=a.length,f=500/e,g=document.getElementById("mycanvas"),h=g.getContext("2d");for(c=0;e>c;c++)for(d=0;e>d;d++)a[c][d]<b?h.fillStyle="#fff":h.fillStyle="#000",h.fillRect(f*d,f*c,f,f)}function munch(a){var b,c,d=[],e=meshgrid(a);for(b=0;a>b;b++)for(d[b]=repmat(0,a),c=0;a>c;c++)d[b][c]=e.x[b][c]^e.y[b][c];var f=range(a);f=f.concat(range(a-1).reverse()),f.pop();var g=0;setInterval(function(){renderBoard(d,f[g]),g===f.length-1?g=0:g++},200)}